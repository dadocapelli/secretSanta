<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	template="/resources/template/template.xhtml">
	<ui:define name="title">..:: Sorteio - SecretSanta </ui:define>

	<ui:define name="content">
		<p:panel header="Lista de Amigos" id="panelAmigos">

			<h:panelGrid columns="4">
				<h:commandButton value="Novo Amigo"
					action="#{amigoController.novo()}"></h:commandButton>

				<h:panelGroup>
					<h:commandButton value="Configurar Sorteio"
						action="#{sorteioController.configurarSorteio()}"></h:commandButton>
				</h:panelGroup>
				<h:panelGroup>
					<h:commandButton value="Sortear"
						action="#{sorteioController.sortear()}"></h:commandButton>
				</h:panelGroup>
				<h:panelGroup>
					<h:commandButton value="Enviar Emails"
						action="#{sorteioController.enviarEmail()}"></h:commandButton>
				</h:panelGroup>
			</h:panelGrid>


			<p:dataTable id="dataAmigo" value="#{amigoController.amigos}"
				var="amigo">

				<p:column headerText="Nome">

					<h:commandLink action="#{amigoController.edit()}"
						value="#{amigo.nome}">
						<f:setPropertyActionListener
							target="#{amigoController.amigoSelected}" value="#{amigo}" />
					</h:commandLink>
				</p:column>

				<p:column headerText="Medidas">
					<h:commandLink action="#{amigoController.edit()}"
						value="#{amigo.caracteristica}">
						<f:setPropertyActionListener
							target="#{amigoController.amigoSelected}" value="#{amigo}" />
					</h:commandLink>
				</p:column>

				<p:column headerText="Ativo">
					<h:commandLink action="#{amigoController.edit()}"
						value="#{amigo.ativo}">
						<f:setPropertyActionListener
							target="#{amigoController.amigoSelected}" value="#{amigo}" />
					</h:commandLink>
				</p:column>


			</p:dataTable>
		</p:panel>

		<br />

	</ui:define>
</ui:composition>